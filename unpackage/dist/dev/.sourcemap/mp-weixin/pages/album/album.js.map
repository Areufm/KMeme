{"version":3,"file":"album.js","sources":["pages/album/album.vue","D:/Software/HBuilder/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWxidW0vYWxidW0udnVl"],"sourcesContent":["<template>\n\t<view class=\"album-box\">\n \t\t<view class=\"list\">\r\n\t\t\t<up-waterfall v-model=\"flowList\" ref=\"uWaterfallRef\">\r\n\t\t\t\t<template v-slot:left=\"{ leftList }\">\r\n\t\t\t\t\t<view class=\"demo-warter\" v-for=\"(item,index) in leftList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"demo-title\">\r\n\t\t\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[0] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[1] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"isCollected\" v-if=\"item.isCollected\">\r\n\t\t\t\t\t\t\t{{ item.isCollected }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-slot:right=\"{ rightList }\">\r\n\t\t\t\t\t<view class=\"demo-warter\" v-for=\"(item,index) in rightList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"demo-title\">\r\n\t\t\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[0] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[1] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"isCollected\" v-if=\"item.isCollected\">\r\n\t\t\t\t\t\t\t{{ item.isCollected }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</up-waterfall>\r\n\t\t</view>\r\n\t\t<view v-if=\"showTopBtn\" @click=\"toTop\" class=\"topClass\">\r\n\t\t\t<up-icon name=\"arrow-upward\" color=\"#ffffff\" size=\"28\"></up-icon>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { onLoad, onPageScroll } from '@dcloudio/uni-app'\nimport { getAlbumImages } from '../../api/api.js' // 替换为你具体的接口\n\nconst title = ref('相册')\nconst flowList = ref([]) // 瀑布流图像列表\n\nonLoad((options) => {\n\t// 接收页面传参\n\tconst albumId = Number(options.id)\n\ttitle.value = decodeURIComponent(options.title || '相册')\r\n\t// 滚动是否显示 0不显示 1显示\r\n\tconst showTopBtn = ref(0)\n\n\t// 设置页面标题\n\tuni.setNavigationBarTitle({ title: title.value })\n\n    // 请求后端该相册的图像数据\n\tgetAlbumImages(albumId)\n\t\t.then(res => {\n\t\t  // 假设 res.data 是 [{ img, title, tag, isCollected }, ...]\n\t\t  flowList.value = res.data || []\n\t\t})\n\t\t.catch(() => {\n\t\t  uni.showToast({\n\t\t\ttitle: '加载图片失败',\n\t\t\ticon: 'none'\n\t\t  })\n    })\r\n\t// 监听滚动\r\n\tonPageScroll((e) => {\r\n\t\tif (e.scrollTop > 600) {\r\n\t\t\tshowTopBtn.value = 1\r\n\t\t} else {\r\n\t\t\tshowTopBtn.value = 0\r\n\t\t}\r\n\t})\r\n\t// 置顶效果\r\n\tconst toTop = () => {\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop: 0,\r\n\t\t\tduration: 300\r\n\t\t})\r\n\t}\n})\n</script>\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: rgb(240, 240,, 240,);\r\n\t}\r\n</style>\r\n\n<style lang=\"scss\" scoped>\n\t.album-box {\n\t  padding: 20rpx;\n\t}\r\n\t.list {\r\n\t\tmargin: 30rpx 0;\r\n\t\t.demo-warter {\r\n\t\t\tmargin: 10rpx 10rpx 10rpx 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tpadding: 16rpx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t\t.demo-title {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #303133;\r\n\t\t}\r\n\t\t.demo-tag {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\t.demo-tag-owner {\r\n\t\t\t\tborder: 1px solid rgb(252, 163, 129);\r\n\t\t\t\tcolor: #ffaa00;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t\t.demo-tag-text {\r\n\t\t\t\tborder: 1px solid #00aaff;\r\n\t\t\t\tcolor: #00aaff;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.isCollected{\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tright: 20rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tline-height: 32rpx;\r\n\t\t\tbackground-color: #ff0000;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tpadding: 4rpx 10rpx;\r\n\t\t}\r\n\t}\r\n\t.topClass {\r\n\t\tposition: flex;\r\n\t\tbottom: 120rpx;\r\n\t\tright: 30rpx;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\n</style>\n","import MiniProgramPage from 'E:/Projects/Software/KMeme/KMeme/pages/album/album.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","getAlbumImages","onPageScroll"],"mappings":";;;;;;;;;;;;;;;;;;AAuDA,UAAA,QAAAA,cAAA,IAAA,IAAA;AACA,UAAA,WAAAA,cAAA,IAAA,EAAA;AAEAC,kBAAA,OAAA,CAAA,YAAA;AAEA,YAAA,UAAA,OAAA,QAAA,EAAA;AACA,YAAA,QAAA,mBAAA,QAAA,SAAA,IAAA;AAEA,YAAA,aAAAD,cAAA,IAAA,CAAA;AAGAE,oBAAAA,MAAA,sBAAA,EAAA,OAAA,MAAA,MAAA,CAAA;AAGAC,cAAAA,eAAA,OAAA,EACA,KAAA,SAAA;AAEA,iBAAA,QAAA,IAAA,QAAA,CAAA;AAAA,MACA,CAAA,EACA,MAAA,MAAA;AACAD,sBAAAA,MAAA,UAAA;AAAA,UACA,OAAA;AAAA,UACA,MAAA;AAAA,QACA,CAAA;AAAA,MACA,CAAA;AAEAE,oBAAA,aAAA,CAAA,MAAA;AACA,YAAA,EAAA,YAAA,KAAA;AACA,qBAAA,QAAA;AAAA,QACA,OAAA;AACA,qBAAA,QAAA;AAAA,QACA;AAAA,MACA,CAAA;AAAA,IAQA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9FA,GAAG,WAAW,eAAe;"}